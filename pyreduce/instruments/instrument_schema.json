{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "pyreduce.instrument_schema",
    "title": "PyReduce Instrument Settings",
    "description": "Keywords that need to be set for the PyReduce to sort files correctly and interpret the header",
    "type": "object",
    "properties": {
        "__instrument__": {
            "description": "Meta data, for which instrument this file is designed",
            "type": "string"
        },
        "instrument": {
            "description": "keyword for the instrument in the header",
            "type": "string"
        },
        "id_instrument": {
            "description": "Value of the instrument keyword, can be regex",
            "type": "string"
        },
        "telescope": {
            "description": "keyword for the telescope in the header",
            "type": "string"
        },
        "target": {
            "description": "keyword of the target in the header",
            "type": "string"
        },
        "date": {
            "description": "keyword of the datetime in the header",
            "type": "string"
        },
        "date_format": {
            "description": "format of the datetime in the header, e.g. fits (default), or mjd",
            "type": "string"
        },
        "extension": {
            "description": "the extension of the fits file to use to access the data",
            "oneOf": [
                {"type": "integer"},
                {"type": "string"},
                {
                    "type": "array",
                    "items": {
                        "oneOf": [
                            {"type": "integer"},
                            {"type": "string"}
                        ]
                    }
                }
            ]
        },
        "orientation": {
            "description": "the orientation of the input files, equal to the number of 90 degree flips necessary",
            "oneOf": [
                {"type": "integer"},
                {
                    "type": "array",
                    "items": {"type": "integer"}
                }
            ]
        },
        "transpose": {
            "description": "If true the image is transposed before rotation, thus flipping the image",
            "type": "boolean"
        },
        "prescan_x": {
            "description": "The horizontal prescan direction, before orientation, or the keyword that contains that value",
            "oneOf": [
                {"type": "integer"},
                {"type": "string"}
            ]
        },
        "overscan_x": {
            "description": "The overscan in horizontal direction, before orientation, or the keyword that contains that value",
            "oneOf": [
                {"type": "integer"},
                {"type": "string"}
            ]
        },
        "prescan_y": {
            "description": "The vertical prescan direction, before orientation, or the keyword that contains that value",
            "oneOf": [
                {"type": "integer"},
                {"type": "string"}
            ]
        },
        "overscan_y": {
            "description": "The overscan in vertical direction, before orientation, or the keyword that contains that value",
            "oneOf": [
                {"type": "integer"},
                {"type": "string"}
            ]
        },
        "naxis_x": {
            "description": "The size of the horizontal axis",
            "oneOf": [
                {"type": "integer"},
                {"type": "string"}
            ]
        },
        "naxis_y": {
            "description": "The size of the vertical axis",
            "oneOf": [
                {"type": "integer"},
                {"type": "string"}
            ]
        },
        "gain": {
            "description": "The gain of the instrument",
            "oneOf": [
                {"type": "number"},
                {"type": "string"}
            ]
        },
        "readnoise": {
            "description": "The readnoise of the instrument",
            "oneOf": [
                {"type": "number"},
                {"type": "string"}
            ]
        },
        "dark": {
            "description": "The dark current of the instrument",
            "oneOf": [
                {"type": "number"},
                {"type": "string"}
            ]
        },
        "sky": {
            "description": "The sky background of the instrument",
            "oneOf": [
                {"type": "number"},
                {"type": "string"}
            ]
        },
        "exposure_time": {
            "description": "The keyword for the exposure time in seconds of the observation",
            "type": "string"
        },
        "ra": {
            "description": "The keyword for the right acension of the observation",
            "type": "string"
        },
        "dec": {
            "description": "The keyword for the declination of the observation",
            "type": "string"
        },
        "longitude": {
            "description": "The longitude of the telescope on earth",
            "oneOf": [
                {"type": "number"},
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "latitude": {
            "description": "The latitude of the telescope on earth",
            "oneOf": [
                {"type": "number"},
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "altitude": {
            "description": "The altitude of the telescope on earth",
            "oneOf": [
                {"type": "number"},
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "kw_bias": {
            "description": "The keyword that identifies the bias files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "kw_flat": {
            "description": "The keyword that identifies the flat files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "kw_curvature": {
            "description": "The keyword that identifies the curvature files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "kw_scatter": {
            "description": "The keyword that identifies the background scatter files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "kw_orders": {
            "description": "The keyword that identifies the order definition files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "kw_wave": {
            "description": "The keyword that identifies the wavecal files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "kw_comb": {
            "description": "The keyword that identifies the laser frequency comb / fabry perot interferometer files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "kw_spec": {
            "description": "The keyword that identifies the science files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "id_bias": {
            "description": "The value that identifies the bias files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "id_flat": {
            "description": "The value that identifies the flat files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "id_curvature": {
            "description": "The value that identifies the curvature files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "id_scatter": {
            "description": "The value that identifies the background scatter files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "id_orders": {
            "description": "The value that identifies the order definition files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "id_wave": {
            "description": "The value that identifies the wavecal files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "id_comb": {
            "description": "The value that identifies the laser frequency comb / fabry perot interferometer files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        },
        "id_spec": {
            "description": "The value that identifies the science files",
            "oneOf": [
                {"type": "string"},
                {"type": "null"}
            ]
        }
    },
    "required": [
        "instrument",
        "id_instrument",
        "telescope",
        "target",
        "date",
        "extension",
        "orientation",
        "naxis_x",
        "naxis_y",
        "gain",
        "readnoise",
        "exposure_time",
        "ra",
        "dec",
        "kw_bias",
        "kw_flat",
        "kw_curvature",
        "kw_scatter",
        "kw_orders",
        "kw_wave",
        "kw_comb",
        "kw_spec",
        "id_bias",
        "id_flat",
        "id_orders",
        "id_curvature",
        "id_scatter",
        "id_wave",
        "id_comb",
        "id_spec"
    ],
    "additionalProperties": true
}
