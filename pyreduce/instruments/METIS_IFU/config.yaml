# METIS IFU instrument configuration
# ELT/METIS integral field unit spectrograph, L/M bands
# ~100 wavelength settings Ã— 4 detectors = ~400 channels
# Channel format: {wavelength}_{detector}, e.g. 4.555_det1

__instrument__: METIS_IFU
instrument: INSTRUME
id_instrument: METIS
telescope: ELT

date: MJD-OBS
date_format: mjd

# Detectors - data in DET1.DATA through DET4.DATA extensions
chips: [det1, det2, det3, det4]
extension: DET1.DATA
orientation: 0
transpose: false

prescan_x: 0
overscan_x: 0
prescan_y: 0
overscan_y: 0
naxis_x: NAXIS1
naxis_y: NAXIS2

gain: 1
readnoise: 4
dark: "ESO DET DIT"
exposure_time: "ESO DET DIT"

ra: RA
dec: DEC
jd: MJD-OBS
longitude: -70.1918
latitude: -24.5899
altitude: 3060
target: OBJECT

# Wavelength setting from header
id_wavelength: "ESO INS WLEN CEN"
instrument_mode: "HIERARCH ESO INS MODE"  # janus: added HIERARCH prefix
observation_type: "ESO DPR TYPE"
observation_category: "ESO DPR CATG"

# File classification keywords and patterns
kw_bias: "ESO DPR TYPE"
kw_flat: "ESO DPR TYPE"
kw_curvature: "ESO DPR TYPE"
kw_scatter: "ESO DPR TYPE"
kw_orders: "ESO DPR TYPE"
kw_wave: "ESO DPR TYPE"
kw_comb: null
kw_spec: "ESO DPR TYPE"

# janus: updated patterns to match simulated data DPR TYPE values
id_bias: IFU_WCU_OFF_RAW
id_flat: IFU_RSRF_PINH_RAW
id_orders: IFU_RSRF_PINH_RAW
id_curvature: SKY
id_scatter: IFU_RSRF_PINH_RAW
id_wave: SKY
id_comb: null
id_spec: OBJECT
